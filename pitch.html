<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpotOrigin - Epic Pitch Deck</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* --- CSS VARIABLES & THEME --- */
        :root {
            --color-bg: #0A0F1C; /* Rich, deep blue-black */
            --color-text: #F8FAFC;
            --color-primary: #6366F1; /* Indigo */
            --color-secondary: #8B5CF6; /* Purple */
            --color-accent: #EC4899; /* Pink */
            --color-card-bg: rgba(30, 41, 59, 0.5); /* Slate-800/50 */
            --color-border: rgba(71, 85, 105, 0.3); /* Slate-600/30 */
            /* A smooth, sophisticated transition curve */
            --transition-smooth: cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* --- CORE STYLING --- */
        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            overflow: hidden;
        }

         /* --- ENHANCEMENT: Noise Texture Overlay --- */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0.04;
            pointer-events: none;
            z-index: 1000;
        }

        /* --- DYNAMIC BACKGROUND CANVAS --- */
        #orb-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            /* Blur and opacity applied to the canvas itself for performance */
            filter: blur(130px);
            opacity: 0.35;
            /* Transition for the parallax effect */
            transition: transform 1s var(--transition-smooth);
        }

        /* --- SLIDE FRAMEWORK --- */
        .slide {
            /* MOBILE FIX: Use Dynamic Viewport Height (dvh) for better mobile compatibility, with fallback. Use min-height for overflow safety. */
            min-height: 100vh;
            min-height: 100dvh;
            width: 100vw;
            display: flex;
            flex-direction: column;
            /* Default: center content (used for Title/Meme/End slides) */
            justify-content: center;
            align-items: center;
            scroll-snap-align: start;
            scroll-snap-stop: always;
            /* Reduced horizontal padding on small screens */
            padding: 5vh 4vw;
            position: relative;
            /* Allow internal scrolling if content overflows on very short screens (e.g. landscape mobile) */
            overflow-y: auto;
        }

        /* Modifier for content slides: Aligns title to the top */
        .slide-content-layout {
             justify-content: start;
             /* Adjusted top padding for title clearance on mobile */
             padding-top: 8vh;
        }

        /* New container to center the body content vertically in the remaining space */
        .slide-body-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            flex-grow: 1; /* Allows it to take up remaining space after the title */
            width: 100%;
             /* Prevents content from getting too close to the footer */
            padding-bottom: 4rem;
            margin-top: 1rem;
        }


        main {
            /* MOBILE FIX: Use Dynamic Viewport Height (dvh) */
            height: 100vh;
            height: 100dvh;
            width: 100vw;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            /* Hide scrollbars for a clean presentation look */
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        main::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }

        /* --- TYPOGRAPHY & CONTENT STYLING --- */
        h1, h2, h3 {
            line-height: 1.1;
        }

        /* Using clamp() for scalable, responsive typography */
        h1 {
            /* MOBILE FIX: Reduced minimum size for very small screens */
            font-size: clamp(3.5rem, 8vw, 7rem);
            font-weight: 900;
            letter-spacing: -0.05em;
            text-align: center;
        }

        h2 {
            /* MOBILE FIX: Reduced minimum size for very small screens */
            font-size: clamp(2.2rem, 6vw, 4.5rem);
            font-weight: 800;
            letter-spacing: -0.025em;
            text-align: center;
            /* Adjusted margin for the new layout */
            margin-bottom: 1rem;
            width: 100%;
             max-width: 1200px;
        }

        h3 {
             font-size: clamp(1.5rem, 3vw, 2.25rem);
             font-weight: 700;
             letter-spacing: -0.025em;
        }

        .subtitle {
            font-size: clamp(1.1rem, 2vw, 1.8rem);
            color: #94A3B8; /* Slate-400 */
            text-align: center;
        }

        .slide-content {
             max-width: 1200px;
             width: 100%;
        }

        /* --- UI ELEMENTS: GLASSMORPHISM --- */
        .glass-card {
            background: var(--color-card-bg);
            border: 1px solid var(--color-border);
            border-radius: 1.5rem; /* rounded-3xl */
            /* MOBILE FIX: Reduced padding slightly on mobile */
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            /* Transition applied here is only for interactive effects (like hover), not reveals */
            transition: transform 0.3s var(--transition-smooth), box-shadow 0.3s var(--transition-smooth);
        }

        /* Responsive padding adjustments for larger screens (md breakpoint) */
        @media (min-width: 768px) {
            .glass-card {
                padding: 2.5rem;
            }
            .slide {
                padding: 5vh 5vw;
            }
            .slide-content-layout {
                padding-top: 10vh;
            }
            h2 {
                margin-bottom: 2rem;
            }
        }


        /* --- UI ELEMENTS: FOOTER & PROGRESS --- */
        .progress-bar-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background-color: transparent;
            z-index: 1001;
        }

        #progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary), var(--color-accent));
            width: 0%;
            transition: width 0.5s var(--transition-smooth);
        }

        .slide-number, .footer-note {
            position: absolute;
            bottom: 1.5rem;
            font-size: 0.875rem;
            color: #475569; /* Slate-600 */
            font-weight: 500;
            opacity: 0;
            /* ROBUSTNESS FIX: Removed transition from base state for instant reset */
        }

        /* Fade in footer elements when slide is active */
        .active .slide-number,
        .active .footer-note {
            opacity: 1;
             /* ROBUSTNESS FIX: Transition added here so it only animates IN */
            transition: opacity 0.5s ease-out 0.5s;
        }

        .slide-number { right: 1.5rem; }
        .footer-note { left: 1.5rem; }

        /* --- ANIMATIONS: REVEALS & STAGGERING (ROBUSTNESS UPDATE) --- */
        .reveal-item {
            opacity: 0;
            /* Initial state: slightly down and scaled down */
            transform: translateY(40px) scale(0.98);
             /* ROBUSTNESS FIX: Transition removed from base state for instant reset when scrolling away */
            will-change: opacity, transform;
        }

        /* Active state: fade in and move to final position */
        .active .reveal-item {
            opacity: 1;
            transform: translateY(0) scale(1);
            /* ROBUSTNESS FIX: Transition added here so it only animates IN */
            transition: opacity 0.8s var(--transition-smooth), transform 0.8s var(--transition-smooth);
        }

        /* Default delay for items not managed by automated staggering (JS handles the rest via inline styles) */
         .active .reveal-item:not([data-staggered="true"]) {
              transition-delay: 0.1s;
         }

        /* --- ANIMATIONS: SHIMMER EFFECT --- */
        @keyframes shimmer-sweep {
           0% { transform: translateX(-100%); }
           100% { transform: translateX(100%); }
        }

        .text-shimmer {
            position: relative;
            display: inline-block;
            overflow: hidden; /* Hide the pseudo-element when it's outside the text bounds */
            vertical-align: bottom; /* This is the fix for title alignment */
        }
         
        /* The pseudo-element creates the light sweep */
        .text-shimmer::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: linear-gradient(
                100deg,
                rgba(255, 255, 255, 0) 20%,
                rgba(255, 255, 255, 0.5) 50%,
                rgba(255, 255, 255, 0) 80%
            );
            animation: shimmer-sweep 4s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }
         
        /* === CSS for Persistent Button === */
        .fade-in-button {
            opacity: 0;
            transform: translateY(-20px);
            animation: fadeInButton 0.8s var(--transition-smooth) 1.2s forwards; /* 1.2s delay */
        }

        @keyframes fadeInButton {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* === END OF NEW CSS === */


        /* --- SLIDE SPECIFIC ENHANCEMENTS --- */

        /* Slide 6: Glitch Effect (Still optimized to only run when active) */
        .glitch-text {
            position: relative;
            display: inline-block;
        }
        /* Only activate animation when the slide is active. Removing 'active' stops it. */
        .active .glitch-text {
             animation: glitch-skew 1s infinite linear alternate-reverse;
        }
        .glitch-text::before, .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: transparent;
            overflow: hidden;
            clip: rect(0, 900px, 0, 0);
        }
        .glitch-text::before {
            left: 3px;
            text-shadow: -3px 0 #00FFFF; /* Cyan */
        }
        .glitch-text::after {
            left: -3px;
            text-shadow: -3px 0 #FF00FF, 3px 3px #FF00FF; /* Magenta and Red */
        }
        .active .glitch-text::before {
            animation: glitch-anim-1 2s infinite linear alternate-reverse;
        }
        .active .glitch-text::after {
            animation: glitch-anim-2 3s infinite linear alternate-reverse;
        }

        /* Keyframes for Glitch Effect */
        @keyframes glitch-anim-1 {
            0% { clip: rect(42px, 9999px, 44px, 0); transform: skew(0.5deg); }
            10% { clip: rect(10px, 9999px, 50px, 0); transform: skew(0.1deg); }
            20% { clip: rect(80px, 9999px, 85px, 0); transform: skew(0.8deg); }
            30% { clip: rect(30px, 9999px, 35px, 0); transform: skew(0.2deg); }
            40% { clip: rect(50px, 9999px, 55px, 0); transform: skew(0.4deg); }
            50% { clip: rect(15px, 9999px, 20px, 0); transform: skew(0.6deg); }
            60% { clip: rect(70px, 9999px, 75px, 0); transform: skew(0.1deg); }
            70% { clip: rect(5px, 9999px, 10px, 0); transform: skew(0.3deg); }
            80% { clip: rect(60px, 9999px, 65px, 0); transform: skew(0.7deg); }
            90% { clip: rect(25px, 9999px, 30px, 0); transform: skew(0.2deg); }
            100% { clip: rect(85px, 9999px, 90px, 0); transform: skew(0.5deg); }
        }
         @keyframes glitch-anim-2 {
            0% { clip: rect(15px, 9999px, 20px, 0); transform: skew(0.5deg); }
            10% { clip: rect(60px, 9999px, 65px, 0); transform: skew(0.2deg); }
            20% { clip: rect(35px, 9999px, 40px, 0); transform: skew(0.6deg); }
            30% { clip: rect(70px, 9999px, 75px, 0); transform: skew(0.1deg); }
            40% { clip: rect(5px, 9999px, 10px, 0); transform: skew(0.3deg); }
            50% { clip: rect(42px, 9999px, 44px, 0); transform: skew(0.8deg); }
            60% { clip: rect(80px, 9999px, 85px, 0); transform: skew(0.5deg); }
            70% { clip: rect(10px, 9999px, 50px, 0); transform: skew(0.1deg); }
            80% { clip: rect(50px, 9999px, 55px, 0); transform: skew(0.4deg); }
            90% { clip: rect(30px, 9999px, 35px, 0); transform: skew(0.2deg); }
            100% { clip: rect(85px, 9999px, 90px, 0); transform: skew(0.6deg); }
        }
        @keyframes glitch-skew {
            0% { transform: skew(1deg); }
            50% { transform: skew(-1deg); }
            100% { transform: skew(1deg); }
        }

        /* Slide 7: Flow Diagram SVG Animation (ROBUSTNESS UPDATE) */
        .flow-svg { overflow: visible; }
        .flow-line {
            stroke: #10B981; /* Emerald-500 */
            stroke-width: 3;
            /* Initialize for draw animation (JS will update these based on actual length) */
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
             /* ROBUSTNESS FIX: Transition removed from base state for instant reset */
        }
        .active .flow-line {
            /* Trigger draw animation */
            stroke-dashoffset: 0;
            /* ROBUSTNESS FIX: Transition applied only when active */
            /* Adjusted transition speed slightly */
            transition: stroke-dashoffset 1.2s ease-out;
        }

        /* Specific delay for desktop horizontal lines */
        .active .flow-line-h {
            transition-delay: 0.8s;
        }

    </style>
</head>
<body>
    
    <canvas id="orb-canvas"></canvas>

    <main id="deck-container">
         
        <section id="slide-1" class="slide">
            <div class="footer-note">SpotOrigin // Confidential</div>
            <div class="slide-content text-center">
                <div class="reveal-item">
                    <h1 class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400">The SpotOrigin Thesis</h1>
                    <p class="subtitle mt-6">A New Model for Career Advocacy</p>
                </div>
            </div>
            <div class="slide-number">1 / 7</div>
        </section>

        <section id="slide-2" class="slide slide-content-layout">
            <h2 class="reveal-item">The Market is <span class="text-red-500 glitch-text" data-text="Fundamentally Broken.">Fundamentally Broken.</span></h2>
            <div class="slide-body-container">
                <div class="slide-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8" data-stagger>
                        <div class="glass-card bg-red-900/20 border-red-700/50 reveal-item">
                            <h3 class="text-2xl md:text-3xl font-bold mb-6 md:mb-8 text-red-400">For Candidates:</h3>
                            <ul class="space-y-5 md:space-y-6 text-lg md:text-xl text-slate-300">
                                <li class="flex items-start"><span class="text-red-500 mr-4 mt-1 font-bold text-2xl">&#10007;</span><strong class="text-white">Application Black Holes:</strong> Resumes are lost in ATS systems that wrongfully discard over 75% of them.</li>
                                <li class="flex items-start"><span class="text-red-500 mr-4 mt-1 font-bold text-2xl">&#10007;</span><strong class="text-white">Dehumanizing Process:</strong> The best talent, whose value is in their narrative, are opting out of a broken system.</li>
                            </ul>
                        </div>
                        <div class="glass-card bg-red-900/20 border-red-700/50 reveal-item">
                            <h3 class="text-2xl md:text-3xl font-bold mb-6 md:mb-8 text-red-400">For Companies:</h3>
                             <ul class="space-y-5 md:space-y-6 text-lg md:text-xl text-slate-300">
                                <li class="flex items-start"><span class="text-red-500 mr-4 mt-1 font-bold text-2xl">&#10007;</span><strong class="text-white">Low Signal-to-Noise:</strong> Job boards are flooded with unqualified applicants, making it impossible to find "golden candidates."</li>
                                <li class="flex items-start"><span class="text-red-500 mr-4 mt-1 font-bold text-2xl">&#10007;</span><strong class="text-white">Misaligned Incentives:</strong> The entire industry is misaligned, forcing a focus on volume over the quality of the match.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-note">1. The Problem</div>
            <div class="slide-number">2 / 7</div>
        </section>

        <section id="slide-3" class="slide slide-content-layout">
             <h2 class="reveal-item">Our Innovation: A <span class="text-purple-400 text-shimmer">Deep & Wide</span> Model.</h2>
            <div class="slide-body-container">
                <div class="slide-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8" data-stagger>
                        <div class="glass-card reveal-item">
                            <h3 class="text-3xl font-bold mb-4">The Deepest</h3>
                            <p class="text-lg md:text-xl text-slate-300 leading-relaxed">Our entire model is built around one "unscalable" function: acting as the candidate's <b>ultimate agent</b>. We master their story, craft their narrative, and build a strategy around their unique value. Our loyalty is exclusively to them.</p>
                        </div>
                        <div class="glass-card reveal-item">
                            <h3 class="text-3xl font-bold mb-4">The Widest</h3>
                            <p class="text-lg md:text-xl text-slate-300 leading-relaxed">We don't compete with the recruiting ecosystem; we partner with it. By acting as an <b>API layer</b> on top of the vast network of specialist recruiters, we give our candidates access to a breadth of opportunities no single agency could ever provide.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-note">2. The Innovation & Outcome</div>
            <div class="slide-number">3 / 7</div>
        </section>

        <section id="slide-4" class="slide slide-content-layout">
            <h2 class="reveal-item">A Capital-Efficient, <span class="text-green-400 text-shimmer">Scalable Machine.</span></h2>
            <div class="slide-body-container">
                 <div class="slide-content max-w-5xl">
                    <div class="glass-card p-6 md:p-8 reveal-item">
                        <p class="text-center text-xl md:text-2xl text-slate-300">Our funnel turns advertising spend directly into high-value placements:</p>
                        <div class="relative w-full mt-8 md:mt-12 text-center">
                            <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 text-sm md:text-base">
                                <span class="reveal-item" style="transition-delay: 0.2s;">Money In (Ads)</span>
                                <span class="reveal-item" style="transition-delay: 0.5s;">Community Growth</span>
                                <span class="reveal-item" style="transition-delay: 0.8s;">Candidate Sourcing</span>
                                <span class="reveal-item" style="transition-delay: 1.1s;">Placements</span>
                                <span class="reveal-item" style="transition-delay: 1.4s;">Revenue Out</span>
                            </div>
                            <div class="hidden md:block absolute w-full h-full top-0 left-0 -z-10 mt-2">
                                <svg width="100%" height="100%" class="flow-svg">
                                    <line x1="10%" y1="50%" x2="90%" y2="50%" class="flow-line flow-line-h"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 mt-6 md:mt-8" data-stagger>
                        <div class="glass-card reveal-item">
                            <p class="text-slate-300 text-lg md:text-xl mb-2">Target Cost-Per-Acquisition</p>
                            <p class="text-4xl md:text-5xl font-black text-white">$50-100</p>
                            <p class="text-slate-400 mt-1">per vetted, senior-level candidate</p>
                        </div>
                        <div class="glass-card reveal-item">
                            <p class="text-slate-300 text-lg md:text-xl mb-2">Validated Return on Ad Spend</p>
                            <p class="text-4xl md:text-5xl font-black text-green-400">200x+</p>
                            <p class="text-slate-400 mt-1">based on early placements</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-note">3. The Model</div>
            <div class="slide-number">4 / 7</div>
        </section>

        <section id="slide-5" class="slide slide-content-layout">
            <h2 class="reveal-item">The Market is a <span class="text-sky-400 text-shimmer">Trillion-Dollar</span> Opportunity.</h2>
            <div class="slide-body-container">
                <div class="slide-content text-center max-w-4xl">
                    <div class="glass-card p-8 md:p-12 reveal-item">
                        <p class="text-6xl md:text-8xl lg:text-9xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-sky-300 to-indigo-400" >$1 Trillion</p>
                        <p class="text-xl md:text-2xl text-slate-300 mt-4">Projected size of the global recruitment market by 2030.</p>
                    </div>
                    <p class="mt-8 md:mt-10 text-xl md:text-2xl text-slate-400 leading-relaxed reveal-item" style="transition-delay: 0.3s;">Our "all-market TAM by definition" model is designed to plug into any part of this massive ecosystem, across any industry or seniority level.</p>
                </div>
            </div>
            <div class="footer-note">4. The Market</div>
            <div class="slide-number">5 / 7</div>
        </section>
        
        <section id="slide-6" class="slide slide-content-layout">
            <h2 class="reveal-item">The Team is <span class="text-fuchsia-400 text-shimmer">Built to Win.</span></h2>
            <div class="slide-body-container">
                <div class="slide-content">
                    <div class="glass-card p-8 md:p-10 max-w-4xl mx-auto reveal-item">
                        <div class="flex flex-col md:flex-row items-center gap-6 md:gap-8">
                            <img src="https://placehold.co/150x150/0A0F1C/9333EA?text=E" class="w-32 h-32 md:w-40 md:h-40 rounded-full ring-4 ring-fuchsia-500/50 shadow-lg shrink-0" alt="Founder Portrait">
                            <div class="text-center md:text-left">
                                <h3 class="text-3xl md:text-4xl font-bold">Elliott Dehnbostel</h3>
                                <p class="text-fuchsia-400 font-semibold text-xl md:text-2xl mt-1 mb-4">Founder</p>
                                <p class="text-slate-300 text-lg md:text-xl leading-relaxed">
                                   <strong class="text-white">Ex-Meta, Infrastructure R&D.</strong> His code, responsible for core systems, saves the company over $6M annually and executes over 250 billion times per second. This background provides a deep understanding of the "golden candidates" we represent and the technical vision to build the machine that will serve them at scale.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-note">5. The Team</div>
            <div class="slide-number">6 / 7</div>
        </section>

        <section id="slide-7" class="slide">
            <div class="slide-content text-center">
                <h1 class="reveal-item text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-400 to-pink-500">Join Us.</h1>
                <div class="mt-8 md:mt-12 glass-card max-w-3xl mx-auto reveal-item" style="transition-delay: 0.2s;">
                    <p class="text-2xl md:text-3xl text-slate-300 mb-6 md:mb-8">We are raising a <strong class="text-white">$500k Pre-Seed</strong> round to:</p>
                    <ul class="space-y-4 text-xl md:text-2xl text-left text-slate-300">
                        <li class="flex items-start"><span class="text-fuchsia-400 mr-4 text-3xl">&#10148;</span>Scale our unhinged top-of-funnel marketing experiments.</li>
                        <li class="flex items-start"><span class="text-fuchsia-400 mr-4 text-3xl">&#10148;</span>Build the core platform for our Agent and Company partners.</li>
                        <li class="flex items-start"><span class="text-fuchsia-400 mr-4 text-3xl">&#10148;</span>Make key operational hires to accelerate growth.</li>
                    </ul>
                </div>
                <div class="mt-10 md:mt-16 text-lg md:text-xl text-slate-400 reveal-item" style="transition-delay: 0.4s;">
                    <p class="font-bold text-2xl md:text-3xl text-white">Elliott Dehnbostel</p>
                    <p class="text-xl md:text-2xl mt-2">leadership@spotorigin.com</p>
                </div>
            </div>
            <div class="footer-note">6. The Ask</div>
            <div class="slide-number">7 / 7</div>
        </section>


    </main>

    <div class="progress-bar-container">
        <div id="progress-bar"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('.slide');
            const container = document.getElementById('deck-container');
            const progressBar = document.getElementById('progress-bar');
            const canvas = document.getElementById('orb-canvas');
            let currentSlideIndex = 0;

            // Define the Tailwind 'md' breakpoint for JS use
            const MD_BREAKPOINT = 768;

            // --- 1. Automated Staggering Setup ---
            const setupStaggering = () => {
                document.querySelectorAll('[data-stagger]').forEach(container => {
                    const items = container.querySelectorAll('.reveal-item');
                    items.forEach((item, index) => {
                        const delay = 0.1 + (index * 0.15);
                        item.style.transitionDelay = `${delay}s`;
                        item.setAttribute('data-staggered', 'true');
                    });
                });
            };

            // --- 2. Animated Counters ---
            const resetCounters = (slide) => {
                slide.querySelectorAll('.counter').forEach(counter => {
                    counter.classList.remove('animated');
                    const format = counter.getAttribute('data-format') || '';
                    counter.innerText = '0' + (format === 'percent' ? '%' : '');
                });
            };

            const animateCounters = (activeSlide) => {
                activeSlide.querySelectorAll('.counter').forEach(counter => {
                    if (counter.classList.contains('animated')) return;
                    counter.classList.add('animated');

                    const target = +counter.getAttribute('data-target');
                    const duration = 1500;
                    const startTime = performance.now();
                    const format = counter.getAttribute('data-format') || '';

                    const updateCount = (currentTime) => {
                        const elapsedTime = currentTime - startTime;
                        const progress = Math.min(elapsedTime / duration, 1);
                        const easedProgress = 1 - Math.pow(1 - progress, 3);
                        
                        let currentVal = easedProgress * target;
                        
                        if (format === 'percent' && target < 100) {
                             counter.innerText = currentVal.toFixed(1) + '%';
                        } else if (format === 'percent') {
                             counter.innerText = Math.floor(currentVal) + '%';
                        }
                        else {
                            counter.innerText = Math.floor(currentVal).toLocaleString();
                        }

                        if (progress < 1) {
                            requestAnimationFrame(updateCount);
                        } else {
                            if (format === 'percent' && target < 100) {
                                counter.innerText = target.toFixed(1) + '%';
                            } else if (format === 'percent') {
                                counter.innerText = target + '%';
                            } else {
                                counter.innerText = target.toLocaleString();
                            }
                        }
                    };
                    setTimeout(() => requestAnimationFrame(updateCount), 300);
                });
            };

            // --- 3. Slide State Management & Parallax ---
            const updateSlideStates = (newIndex) => {
                if (newIndex < 0 || newIndex >= slides.length) return;

                slides.forEach((slide, index) => {
                    if (index === newIndex) {
                        if (!slide.classList.contains('active')) {
                            slide.classList.add('active');
                            if (slide.querySelector('.counter')) animateCounters(slide);
                        }
                    } else {
                        if (slide.classList.contains('active')) {
                            slide.classList.remove('active');
                            resetCounters(slide);
                        }
                    }
                });

                currentSlideIndex = newIndex;
                const progress = ((currentSlideIndex) / (slides.length - 1)) * 100;
                progressBar.style.width = `${progress}%`;
                const parallaxOffset = currentSlideIndex * -80;
                canvas.style.transform = `translateY(${parallaxOffset}px)`;
            };

            const scrollToSlide = (index) => {
                if (index >= 0 && index < slides.length) {
                    slides[index].scrollIntoView({ behavior: 'smooth' });
                }
            };

            // --- 4. Scroll Detection (Intersection Observer) ---
            const observer = new IntersectionObserver((entries) => {
                let mostVisibleIndex = currentSlideIndex;
                let highestVisibility = 0;
                entries.forEach(entry => {
                    if (entry.isIntersecting && entry.intersectionRatio > highestVisibility) {
                        highestVisibility = entry.intersectionRatio;
                        mostVisibleIndex = Array.from(slides).indexOf(entry.target);
                    }
                });
                if (mostVisibleIndex !== currentSlideIndex) {
                      updateSlideStates(mostVisibleIndex);
                }
            }, { root: container, threshold: 0.5 });
            
            slides.forEach(slide => observer.observe(slide));

            // --- 5. Keyboard Navigation ---
            window.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === 'PageDown' || (e.code === 'Space' && !e.shiftKey)) {
                    e.preventDefault();
                    scrollToSlide(currentSlideIndex + 1);
                } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp' || e.key === 'PageUp' || (e.code === 'Space' && e.shiftKey)) {
                    e.preventDefault();
                    scrollToSlide(currentSlideIndex - 1);
                }
            });

            // --- 6. Dynamic Orb Background & SVG Handling ---
            const ctx = canvas.getContext('2d');
            const initializeSVGLines = () => {
                const isMobile = window.innerWidth < MD_BREAKPOINT;
                const activeSelector = isMobile ? '.flow-line-v' : '.flow-line-h';
                
                document.querySelectorAll('.flow-line').forEach(line => {
                    line.style.strokeDasharray = 1000;
                    line.style.strokeDashoffset = 1000;
                });

                document.querySelectorAll(activeSelector).forEach(line => {
                    try {
                        const length = line.getTotalLength();
                        if (length > 0) {
                            line.style.strokeDasharray = length;
                            line.style.strokeDashoffset = length;
                        }
                    } catch (e) { console.warn("Could not calculate SVG line length:", e); }
                });
            }

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                setTimeout(initializeSVGLines, 100);
            }
            window.addEventListener('resize', resizeCanvas);

            const colors = [
                { r: 99, g: 102, b: 241 }, { r: 139, g: 92, b: 246 }, { r: 236, g: 72, b: 153 }
            ];

            class Orb {
                constructor(index) {
                    this.radius = Math.random() * (Math.min(canvas.width, canvas.height) / 4) + (Math.min(canvas.width, canvas.height) / 4);
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.color = colors[index % colors.length];
                    this.vx = (Math.random() - 0.5) * 0.3;
                    this.vy = (Math.random() - 0.5) * 0.3;
                }
                draw() {
                    ctx.beginPath();
                    const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.radius);
                    gradient.addColorStop(0, `rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, 1)`);
                    gradient.addColorStop(1, `rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, 0)`);
                    ctx.fillStyle = gradient;
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fill();
                }
                update() {
                    this.x += this.vx; this.y += this.vy;
                    if (this.x > canvas.width + this.radius/2 || this.x < 0 - this.radius/2) this.vx *= -1;
                    if (this.y > canvas.height + this.radius/2 || this.y < 0 - this.radius/2) this.vy *= -1;
                }
            }
            const orbs = [];
            const numOrbs = window.innerWidth < MD_BREAKPOINT ? 4 : 6;
            for (let i = 0; i < numOrbs; i++) orbs.push(new Orb(i));

            function animateCanvas() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                orbs.forEach(orb => { orb.update(); orb.draw(); });
                requestAnimationFrame(animateCanvas);
            }

            setupStaggering();
            resizeCanvas();
            animateCanvas();
            setTimeout(() => {
                 initializeSVGLines();
                if (currentSlideIndex === 0 && !slides[0].classList.contains('active')) {
                   updateSlideStates(0);
                }
            }, 150);
        });
    </script>
     
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const formUrl = 'https://formspree.io/f/mqaynjdl';
            const sectionsAlreadySeen = new Set();
      
            const sendAnalyticsEvent = (sectionId) => {
                if (!sectionId) return;
                const formData = new FormData();
                formData.append('slide_reached', sectionId);
                formData.append('page_url', window.location.href);
                formData.append('timestamp', new Date().toISOString());
      
                if (navigator.sendBeacon) {
                    navigator.sendBeacon(formUrl, formData);
                } else {
                    fetch(formUrl, { method: 'POST', body: formData, keepalive: true });
                }
            };
      
            const analyticsObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const sectionId = entry.target.id;
                        if (!sectionsAlreadySeen.has(sectionId)) {
                            sectionsAlreadySeen.add(sectionId);
                            sendAnalyticsEvent(sectionId);
                            observer.unobserve(entry.target);
                        }
                    }
                });
            }, {
                root: document.getElementById('deck-container'),
                threshold: 0.5,
            });
      
            const sectionsToTrack = document.querySelectorAll('.slide');
            sectionsToTrack.forEach(section => analyticsObserver.observe(section));
        });
    </script>
</body>
</html>

